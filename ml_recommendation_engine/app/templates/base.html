<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}MovieApp{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    {% block head_extra %}{% endblock %}
    {% block extra_css %}{% endblock %}
</head>
<body class="{% if request.endpoint == 'index' %}page-index fullpage-active{% else %}page-standard{% endif %}">
    {# Sabit Ana Sayfa Butonu #}
    <a href="{{ url_for('index') }}" class="home-button-fixed" id="home-button-fixed" aria-label="Ana Sayfa">
        <i class="fas fa-home"></i>
    </a>

    {# Hamburger Menü Butonu #}
    <button class="hamburger-menu-button" id="hamburger-menu-button" aria-label="Menüyü Aç/Kapat" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
    </button>

    {# Overlay Navigasyon Menüsü #}
    <nav class="overlay-nav" id="overlay-nav">
        <button class="overlay-nav-close" id="overlay-nav-close" aria-label="Menüyü Kapat">&times;</button>
        <ul>
            <li><a href="{{ url_for('index') }}" class="overlay-nav-item {% if request.endpoint == 'index' %}active{% endif %}"><i class="fas fa-home"></i> Ana Sayfa</a></li>
            <li><a href="{{ url_for('search') }}" class="overlay-nav-item {% if request.endpoint == 'search' %}active{% endif %}"><i class="fas fa-search"></i> Ara</a></li>
            <li><a href="{{ url_for('watchlist') }}" class="overlay-nav-item {% if request.endpoint == 'watchlist' %}active{% endif %}"><i class="fas fa-bookmark"></i> İzleme Listem</a></li>
            <li><a href="{{ url_for('recommendations') }}" class="overlay-nav-item {% if request.endpoint == 'recommendations' %}active{% endif %}"><i class="fas fa-magic"></i> Öneriler</a></li>

            {# Kullanıcı Bölümü #}
            <li class="nav-divider"></li>
            {% if current_user.is_authenticated %}
                <li><a href="{{ url_for('profile') }}" class="overlay-nav-item {% if request.endpoint == 'profile' %}active{% endif %}"><i class="fas fa-user-circle"></i> {{ current_user.username }}</a></li>
                <li><a href="{{ url_for('logout') }}" class="overlay-nav-item"><i class="fas fa-sign-out-alt"></i> Çıkış Yap</a></li>
            {% else %}
                <li><a href="{{ url_for('login') }}" class="overlay-nav-item {% if request.endpoint == 'login' %}active{% endif %}"><i class="fas fa-sign-in-alt"></i> Giriş Yap</a></li>
                <li><a href="{{ url_for('register') }}" class="overlay-nav-item {% if request.endpoint == 'register' %}active{% endif %}"><i class="fas fa-user-plus"></i> Kayıt Ol</a></li>
            {% endif %}
        </ul>
    </nav>

    <main id="main-content-wrapper">
        {% block content %}{% endblock %}
    </main>

    <div class="notification-container"></div>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    {% block scripts_extra %}{% endblock %}
</body>
</html>
